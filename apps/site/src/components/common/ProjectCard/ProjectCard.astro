---
import { cn } from '@helpers/cn';
import { getImageByPath } from '@helpers/getImageByPath';
import type { ProcessedProject } from '@helpers/projectHelpers';

interface Props {
    project: ProcessedProject;
}

const { project }: Props = Astro.props;

const image = await getImageByPath(project.data.hero.src, {width: 800, height: 600});

---

<article
    class={cn(
        'relative flex h-full w-full flex-col overflow-hidden rounded-2xl',
        'bg-radial-[at_15%_15%]',
        'text-on-surface from-surface-container-low/60 to-surface-container/60 backdrop-blur-md',
        'shadow-2xl transition-all duration-300',
    )}
>
    {
        image?.src && <img
                src={image?.src}
                width={image?.attributes.width}
                height={image?.attributes.height}
                class='w-full h-auto max-h-60 aspect-[3/2] object-cover object-top'
            />
    }
    <header class='p-4'>
        <h4 class=''><a href={'/projects/' + project.slug}>{project.data.title}</a></h4>
        <h5 class=''>{project.data.subtitle}</h5>
        <hr class='p-2 border-sw-neutral-500/50' />
        <p class=''>Categorias: {project.data.categories?.join(', ') ?? 'N/A'}</p>
        <p class=''>Tags: {project.data.tags?.join(', ') ?? 'N/A'}</p>
        <p class=''>Frameworks: {project.data.frameworks?.join(', ') ?? 'N/A'}</p>
        <p class=''>Data: {project.data.date}</p>
    </header>
</article>
